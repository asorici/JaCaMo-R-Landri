{% extends "base.html" %}

{% load tag_extras %}

{% block extrastyle %}

<style type="text/css">
td.user-property {
    font-weight: bold;
}
</style>

<script src="/resources/jstree/jquery.jstree.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        $("[id^=accordion]").accordion({
            collapsible: true,
        });
        $("#subenvironment-solutions").jstree({
            'themes': {
                'theme': 'apple',
            },
            'plugins': [
                'themes',
                'html_data',
                'ui',
                'crrm',
            ],
        });
    });
</script>

{% endblock %}

{% block app-content %}

{% if envUser %}
    <table>
        <tbody>
            <tr>
                <td class="user-property"> User Name: </td>
                <td> {{ envUser.user.username }} </td>
            </tr>
            <tr>
                <td class="user-property"> Full Name: </td>
                <td> {{ envUser.user.get_full_name }} </td>
            </tr>
            <tr>
                <td class="user-property"> Rank: </td>
                <td> {{ envUser.rank }} </td>
            </tr>
            <tr>
                <td class="user-property"> Economy: </td>
                <td> {{ envUser.economy }} </td>
            </tr>
        </tbody>
    </table>

<div id="accordion-subenv">
    <h3><a href="#">Owned subenvironments</a></h3>
    <div>
        <p> Placeholder. </p>
    </div>
</div>

<div id="accordion-soln">
    <h3><a href="#">Submitted solutions</a></h3>
    <div id="subenvironment-solutions">
        <ul>
        {% for subSolutions in allSolutions %}
            <li class="jstree-open">
                <a href="#">
                    {{ subSolutions.subEnvironment }}
                </a>
                <ul>
                {% for solution in subSolutions.someSolutions %}
                    <li>
                        <a href="#">
                            {{ solution.file|basename }}
                        </a>
                    </li>
                {% endfor %}
                </ul>
            </li>
        {% endfor %}
        </ul>
    </div>
</div>

{% else %}
    <p>The requested EnvUser is invalid.</p>
{% endif %}

{% endblock %}
