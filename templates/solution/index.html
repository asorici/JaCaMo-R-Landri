{% extends "base.html" %}

{% load url from future %}

{% block extrastyle %}

<script type="text/javascript">
    $(function () {
        $("#solution-accordion").accordion({
            autoHeight: false,
        });
    });
</script>

{% endblock %}

{% block app-content %}

<div id="solution-accordion">
{% for subSolutions in allSolutions %}
{% with subSolutions.subEnvironment as subEnvironment %}
    <h3>
        <a href="#"> {{ subEnvironment }} </a>
    </h3>
    <div>
    <form enctype="multipart/form-data"
        action="{% url 'solution.views.index_post' subEnvironment.pk %}"
        method="post"> {% csrf_token %}
        <table>
            {{ subSolutions.formset }}
        </table>
        <input type="submit" value="Submit Solutions" />
    </form>
    </div>
{% endwith %}
{% endfor %}
    <h3>
        <a href="#"> Unsolved SubEnvironments </a>
    </h3>
    <div>
    <form enctype="multipart/form-data"
        action="{% url 'solution.views.index_post' 0 %}"
        method="post"> {% csrf_token %}
        <table>
            {{ othersFormset }}
        </table>
        <input type="submit" value="Submit Solutions" />
    </form>
    </div>
</div>

{% endblock %}
